<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sada 249 | صدى 249 - الأرشيف الرقمي لشهادات الحرب في السودان</title>
    <meta name="description" content="منصة آمنة ومستقلة لتوثيق التجارب الإنسانية وشهادات الناجين من الحرب في السودان.">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Sada 249 | صدى 249">
    <meta property="og:description" content="وثق تجربتك، صوتك هو التاريخ. أرشيف إنساني لشهادات الحرب في السودان.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        [dir="rtl"] {
            font-family: 'Cairo', sans-serif;
            text-align: right;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #64748b;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
        
        /* Glass effect */
        .glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        /* Gradient button */
        .btn-primary {
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(14, 165, 233, 0.3);
        }
        
        /* Status badges */
        .status-approved {
            background: #dcfce7;
            color: #166534;
        }
        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }
        .status-rejected {
            background: #fee2e2;
            color: #991b1b;
        }
        
        /* Hero gradient */
        .hero-gradient {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        /* Mobile nav shadow */
        .mobile-nav {
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
        }
        
        /* Selection */
        ::selection {
            background: #e0f2fe;
            color: #0c4a6e;
        }
        
        /* Focus styles */
        *:focus-visible {
            outline: 2px solid #0ea5e9;
            outline-offset: 2px;
        }
        
        /* Card hover */
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        /* Quote mark */
        .quote-mark {
            font-size: 4rem;
            line-height: 1;
            color: #cbd5e1;
            font-family: Georgia, serif;
        }
    </style>
</head>
<body class="bg-slate-50 selection:bg-sky-100 selection:text-sky-900">
    <div id="root"></div>
    
    <script type="text/babel">
        // Mock testimonies data
        const MOCK_TESTIMONIES = [
            {
                id: 1,
                title: "صباح الحصار",
                event: "معركة أم درمان",
                date: "2024-04-15",
                location: "أم درمان، الخرطوم",
                writtenText: "بدأ اليوم كأي يوم، لكن صوت إطلاق النار البعيد أصبح أقرب بسرعة. اختبأنا في قبو منزلنا لثلاثة أيام، نستمع إلى المدينة تنهار من حولنا.",
                status: 'approved',
                author: 'مجهول'
            },
            {
                id: 2,
                title: "رحلتي من الخرطوم",
                event: "إجلاء 2024",
                date: "2024-05-02",
                location: "الخرطوم",
                writtenText: "مغادرة منزلي كانت أصعب قرار في حياتي. حزمت حقيبة واحدة، لا أعرف إن كنت سأعود يوماً.",
                status: 'approved',
                author: 'أحمد س.'
            },
            {
                id: 3,
                title: "الحياة تحت الحصار في الفاشر",
                event: "حصار الفاشر",
                date: "2024-06-10",
                location: "الفاشر، شمال دارفور",
                writtenText: "لأسابيع، كنا منقطعين عن العالم. أصبح الطعام والماء نادرين. كل يوم كان صراعاً للبقاء.",
                status: 'pending',
                author: 'مجهول'
            },
            {
                id: 4,
                title: "وميض من الأمل",
                event: "وصول المساعدات الإنسانية",
                date: "2024-07-21",
                location: "بورت سودان",
                writtenText: "بعد أشهر من الشقاء، وصل أول قافلة مساعدات. رؤية الشاحنات تدخل كان كالمعجزة.",
                status: 'approved',
                author: 'منى ك.'
            }
        ];

        // Translations
        const translations = {
            home: { en: "Home", ar: "الرئيسية" },
            submitTestimony: { en: "Submit Testimony", ar: "أرسل شهادتك" },
            viewArchive: { en: "View Archive", ar: "عرض الأرشيف" },
            admin: { en: "Admin Dashboard", ar: "لوحة الإشراف" },
            formTitle: { en: "Document Your Experience", ar: "وثّق تجربتك" },
            formSubtitle: { en: "All submissions are encrypted and sent securely.", ar: "جميع الشهادات مشفرة وتُرسل بأمان." },
            titleLabel: { en: "1. Title (Optional)", ar: "١. العنوان (اختياري)" },
            eventLabel: { en: "2. The Specific Event", ar: "٢. الحدث المحدد" },
            dateLabel: { en: "3. Date(s)", ar: "٣. التاريخ" },
            locationLabel: { en: "4. Location", ar: "٤. الموقع" },
            writtenLabel: { en: "5. Written Testimony", ar: "٥. شهادتك المكتوبة" },
            consentCheckbox: { en: "I give my consent for review and publication.", ar: "أوافق على المراجعة والنشر." },
            publishAnonymously: { en: "Publish anonymously", ar: "نشر بهوية مجهولة" },
            submissionSuccess: { en: "Sent securely to our team.", ar: "تم الإرسال بأمان لفريقنا." },
            archiveTitle: { en: "The Public Archive", ar: "الأرشيف العام" },
            archiveSubtitle: { en: "Anonymized experiences from Sudan.", ar: "تجارب مجهولة من السودان." },
            searchPlaceholder: { en: "Search...", ar: "ابحث..." },
            allLocations: { en: "All Locations", ar: "كل المواقع" },
            noStoriesFound: { en: "No Stories Found", ar: "لم يتم العثور على قصص" },
            gridView: { en: "Grid View", ar: "عرض الشبكة" },
            tableView: { en: "Table View", ar: "عرض الجدول" },
            status_approved: { en: "Approved", ar: "مقبول" },
            status_pending: { en: "Pending", ar: "قيد المراجعة" },
            status_rejected: { en: "Rejected", ar: "مرفوض" },
            event: { en: "Event", ar: "الحدث" },
            date: { en: "Date", ar: "التاريخ" },
            location: { en: "Location", ar: "الموقع" },
            
            home_title: { 
                en: "Sada 249: Humanity from the Heart of War", 
                ar: "صدى 249: حين يتحدث الإنسان من قلب الحرب" 
            },
            home_subtitle: { 
                en: "Beyond the smoke of battle and casualty counts, there are millions of human stories left untold. Sada 249 is your window to hear Sudan's true pulse.", 
                ar: "خلف دخان المعارك وأرقام الضحايا، توجد ملايين القصص الإنسانية التي لم تُروَ. صدى 249 هو نافذتكم لسماع نبض السودان الحقيقي." 
            },
            
            home_section1_title: { en: "Who We Are", ar: "من نحن؟" },
            home_section1_p1: { 
                en: "Sada 249 is not just a news site; it is an 'echo' of the Sudanese human experience.", 
                ar: "صدى 249 (Sada 249) ليس مجرد موقع إخباري، بل هو \"صدى\" التجربة الإنسانية السودانية." 
            },
            home_section1_p2: { 
                en: "We are an independent platform born from suffering, believing that the most powerful weapon against forgetting is 'the story'. Our name combines 'Sada' (echo), which we strive to convey to the world, and '249', Sudan's international dialing code, to affirm that we are still here, and our voice is still alive.", 
                ar: "نحن منصة مستقلة وُلدت من رحم المعاناة، نؤمن بأن أقوى سلاح ضد النسيان هو \"القصة\". اسمنا يجمع بين \"الصدى\" الذي نسعى لإيصاله للعالم، و \"249\" مفتاح الاتصال الدولي للسودان، لنؤكد أننا ما زلنا هنا، وما زال صوتنا حياً." 
            },
            home_section1_p3: { 
                en: "We document life amidst death, hope amidst despair, and the extraordinary resilience of a people who insist on surviving.", 
                ar: "نحن نوثق الحياة وسط الموت، والأمل وسط اليأس، والصمود الاستثنائي لشعب يُصر على البقاء." 
            },

            home_section2_title: { en: "Our Mission: To Let the World Hear", ar: "رسالتنا: أن نُسمِع العالم" },
            home_section2_p1: { 
                en: "Our mission is clear: to break the wall of silence and isolation surrounding the human experience in Sudan.", 
                ar: "مهمتنا واضحة: كسر جدار الصمت والعزلة المفروضة حول التجربة الإنسانية في السودان." 
            },
            home_section2_li1_title: { en: "Human Documentation", ar: "التوثيق الإنساني" },
            home_section2_li1_text: { en: "Recording tales of displacement, loss, fear, and daily courage.", ar: "تسجيل روايات النزوح، الفقد، الخوف، والشجاعة اليومية." },
            home_section2_li2_title: { en: "Building Bridges", ar: "بناء الجسور" },
            home_section2_li2_text: { en: "Translating these stories to build global empathy beyond language barriers.", ar: "ترجمة هذه القصص للعالم، لتجاوز حواجز اللغة والثقافة وبناء تعاطف عالمي حقيقي." },
            home_section2_li3_title: { en: "Humanizing Numbers", ar: "أنسنة الأرقام" },
            home_section2_li3_text: { en: "Turning cold statistics into faces, dreams, and destinies.", ar: "تحويل الإحصائيات الباردة إلى وجوه وأحلام ومصائر." },
            home_section2_li4_title: { en: "A Platform for All", ar: "منصة للجميع" },
            home_section2_li4_text: { en: "Giving the microphone to mothers in camps and doctors in field hospitals.", ar: "إعطاء الميكروفون للأم في مخيم النزوح، وللطبيب في المستشفى الميداني." },

            home_section3_title: { en: "Voices from Within: Experience as it is", ar: "أصوات من الداخل: التجربة كما هي" },
            home_section3_p1: { 
                en: "War in Sudan is not just a political conflict; it's a soul-altering event.", 
                ar: "الحرب في السودان ليست مجرد صراع سياسي أو عسكري؛ إنها حدث يغير شكل الروح." 
            },
            home_section3_li1_title: { en: "Resilience", ar: "الصمود" },
            home_section3_li1_text: { en: "How people innovate survival, education, and mutual aid.", ar: "كيف يبتكر الناس طرقاً للنجاة، والتعليم، ومساعدة بعضهم البعض." },
            home_section3_li2_title: { en: "Hope", ar: "الأمل" },
            home_section3_li2_text: { en: "Stories of social solidarity that keep humanity alight.", ar: "قصص التكافل الاجتماعي والمبادرات الفردية التي تُبقي شعلة الإنسانية متقدة." },
            home_section3_li3_title: { en: "Pain & Loss", ar: "الألم والفقدان" },
            home_section3_li3_text: { en: "Honest accounts of farewells and the search for safety.", ar: "الروايات الصادقة عن لحظات الوداع، وتدمير الذكريات، والبحث عن الأمان." },
            home_section3_li4_title: { en: "Memory", ar: "الذاكرة" },
            home_section3_li4_text: { en: "Preserving identity and culture from being lost in chaos.", ar: "كيف يحاول السودانيون الحفاظ على هويتهم وتاريخهم وثقافتهم من الضياع." },
            home_section3_quote: { 
                en: "Every story we tell is a step towards ending international indifference.", 
                ar: "نحن نؤمن بأن كل قصة نرويها هي خطوة نحو إنهاء اللامبالاة الدولية." 
            },

            home_section4_title: { en: "Be the Echo", ar: "كن الصدى" },
            home_section4_p1: { 
                en: "The world needs to hear, and you can help convey this voice.", 
                ar: "العالم يحتاج أن يسمع، وأنت يمكنك المساعدة في إيصال هذا الصوت." 
            },
            home_box1_title: { en: "Spread the Word", ar: "انشر الخبر" },
            home_box1_p: { en: "Share this platform with the world.", ar: "شارك هذه المنصة مع العالم لإيصال الصوت." },
            home_box2_title: { en: "Document Your Story", ar: "وثق قصتك" },
            home_box2_p: { en: "Your story is part of history. Don't let it fade.", ar: "قصتك هي جزء من التاريخ. لا تدعها تتلاشى في النسيان." },

            admin_stats_total: { en: "Total Stories", ar: "إجمالي القصص" },
            admin_stats_pending: { en: "Pending", ar: "قيد المراجعة" },
            admin_stats_approved: { en: "Published", ar: "منشور" },
            admin_filter_all: { en: "All", ar: "الكل" },
            action_approve: { en: "Approve", ar: "موافقة" },
            action_reject: { en: "Reject", ar: "رفض" },
            action_delete: { en: "Delete", ar: "حذف" },
            action_view: { en: "View", ar: "عرض" },
            modal_close: { en: "Close", ar: "إغلاق" },
            confirm_delete: { en: "Confirm Delete?", ar: "هل أنت متأكد من الحذف؟" }
        };

        // Language Context
        const LanguageContext = React.createContext();

        const LanguageProvider = ({ children }) => {
            const [language, setLanguage] = React.useState('ar');

            const t = (key) => {
                const translation = translations[key];
                if (!translation) return key;
                return translation[language];
            };

            return (
                <LanguageContext.Provider value={{ language, setLanguage, t }}>
                    {children}
                </LanguageContext.Provider>
            );
        };

        const useLanguage = () => {
            const context = React.useContext(LanguageContext);
            if (!context) {
                throw new Error('useLanguage must be used within a LanguageProvider');
            }
            return context;
        };

        // Icons
        const HomeIcon = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
        );

        const PlusCircleIcon = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        );

        const BookOpenIcon = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" width="24" height="24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
        );

        // Header Component
        const Header = ({ currentView, navigateTo }) => {
            const { t } = useLanguage();
            
            return (
                <header className="sticky top-0 z-50 glass border-b border-slate-200">
                    <div className="container mx-auto px-4 py-4">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-sky-700 flex items-center justify-center">
                                    <span className="text-white font-bold text-lg">ص</span>
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold text-slate-800">Sada 249</h1>
                                    <p className="text-xs text-slate-500">صدى 249</p>
                                </div>
                            </div>

                            <nav className="hidden md:flex items-center gap-2">
                                <button
                                    onClick={() => navigateTo('home')}
                                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                                        currentView === 'home'
                                            ? 'bg-sky-100 text-sky-700'
                                            : 'text-slate-600 hover:bg-slate-100'
                                    }`}
                                >
                                    {t('home')}
                                </button>
                                <button
                                    onClick={() => navigateTo('form')}
                                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                                        currentView === 'form'
                                            ? 'bg-sky-100 text-sky-700'
                                            : 'text-slate-600 hover:bg-slate-100'
                                    }`}
                                >
                                    {t('submitTestimony')}
                                </button>
                                <button
                                    onClick={() => navigateTo('archive')}
                                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                                        currentView === 'archive'
                                            ? 'bg-sky-100 text-sky-700'
                                            : 'text-slate-600 hover:bg-slate-100'
                                    }`}
                                >
                                    {t('viewArchive')}
                                </button>
                                <button
                                    onClick={() => navigateTo('admin')}
                                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                                        currentView === 'admin'
                                            ? 'bg-sky-100 text-sky-700'
                                            : 'text-slate-600 hover:bg-slate-100'
                                    }`}
                                >
                                    {t('admin')}
                                </button>
                            </nav>

                            <div className="md:hidden">
                                <button className="p-2 rounded-lg text-slate-600 hover:bg-slate-100">
                                    <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </header>
            );
        };

        // Footer Component
        const Footer = ({ navigateTo }) => {
            const { t } = useLanguage();
            
            return (
                <footer className="bg-slate-900 text-slate-300 py-12 mt-16">
                    <div className="container mx-auto px-4">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div>
                                <h3 className="text-white font-bold text-lg mb-4">Sada 249 | صدى 249</h3>
                                <p className="text-slate-400 text-sm leading-relaxed">
                                    {t('footerText')}
                                </p>
                            </div>

                            <div>
                                <h3 className="text-white font-bold text-lg mb-4">روابط سريعة</h3>
                                <ul className="space-y-2">
                                    <li>
                                        <button
                                            onClick={() => navigateTo('home')}
                                            className="text-slate-400 hover:text-white transition-colors text-sm"
                                        >
                                            {t('home')}
                                        </button>
                                    </li>
                                    <li>
                                        <button
                                            onClick={() => navigateTo('form')}
                                            className="text-slate-400 hover:text-white transition-colors text-sm"
                                        >
                                            {t('submitTestimony')}
                                        </button>
                                    </li>
                                    <li>
                                        <button
                                            onClick={() => navigateTo('archive')}
                                            className="text-slate-400 hover:text-white transition-colors text-sm"
                                        >
                                            {t('viewArchive')}
                                        </button>
                                    </li>
                                </ul>
                            </div>

                            <div>
                                <h3 className="text-white font-bold text-lg mb-4">اتصل بنا</h3>
                                <p className="text-slate-400 text-sm mb-4">
                                    تتم إدارة أرشيف صدى 249 من قبل فريق مستقل من المشرفين.
                                </p>
                                <button className="text-sky-400 hover:text-sky-300 transition-colors text-sm font-medium">
                                    اتصل بفريق الإدارة
                                </button>
                            </div>
                        </div>

                        <div className="border-t border-slate-800 mt-8 pt-8 text-center">
                            <p className="text-slate-500 text-sm">
                                © 2024 Sada 249. جميع الحقوق محفوظة.
                            </p>
                        </div>
                    </div>
                </footer>
            );
        };

        // Home Component
        const Home = ({ onNavigate }) => {
            const { t } = useLanguage();
            
            return (
                <div className="space-y-16">
                    <section className="text-center py-16 hero-gradient rounded-3xl">
                        <div className="max-w-4xl mx-auto px-4">
                            <h1 className="text-4xl md:text-6xl font-bold text-slate-800 mb-6 leading-tight">
                                {t('home_title')}
                            </h1>
                            <p className="text-lg md:text-xl text-slate-600 mb-8 leading-relaxed">
                                {t('home_subtitle')}
                            </p>
                            <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                <button
                                    onClick={() => onNavigate('form')}
                                    className="btn-primary px-8 py-4 rounded-xl text-white font-bold text-lg shadow-lg"
                                >
                                    وثّق قصتك الآن
                                </button>
                                <button
                                    onClick={() => onNavigate('archive')}
                                    className="px-8 py-4 rounded-xl border-2 border-slate-300 text-slate-700 font-bold text-lg hover:bg-slate-50 transition-colors"
                                >
                                    تصفح الأرشيف
                                </button>
                            </div>
                        </div>
                    </section>

                    <section className="py-12">
                        <div className="max-w-4xl mx-auto">
                            <h2 className="text-3xl font-bold text-slate-800 mb-8 text-center">{t('home_section1_title')}</h2>
                            <div className="bg-white rounded-2xl p-8 shadow-lg">
                                <p className="text-slate-600 leading-relaxed mb-6">
                                    {t('home_section1_p1')}
                                </p>
                                <p className="text-slate-600 leading-relaxed mb-6">
                                    {t('home_section1_p2')}
                                </p>
                                <p className="text-slate-600 leading-relaxed">
                                    {t('home_section1_p3')}
                                </p>
                            </div>
                        </div>
                    </section>

                    <section className="py-12 bg-sky-50 rounded-3xl">
                        <div className="max-w-4xl mx-auto px-4">
                            <h2 className="text-3xl font-bold text-slate-800 mb-8 text-center">{t('home_section2_title')}</h2>
                            <p className="text-center text-slate-600 mb-12 text-lg">
                                {t('home_section2_p1')}
                            </p>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="bg-white rounded-xl p-6 shadow-md">
                                    <h3 className="text-xl font-bold text-sky-700 mb-3">{t('home_section2_li1_title')}</h3>
                                    <p className="text-slate-600">{t('home_section2_li1_text')}</p>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 shadow-md">
                                    <h3 className="text-xl font-bold text-sky-700 mb-3">{t('home_section2_li2_title')}</h3>
                                    <p className="text-slate-600">{t('home_section2_li2_text')}</p>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 shadow-md">
                                    <h3 className="text-xl font-bold text-sky-700 mb-3">{t('home_section2_li3_title')}</h3>
                                    <p className="text-slate-600">{t('home_section2_li3_text')}</p>
                                </div>
                                
                                <div className="bg-white rounded-xl p-6 shadow-md">
                                    <h3 className="text-xl font-bold text-sky-700 mb-3">{t('home_section2_li4_title')}</h3>
                                    <p className="text-slate-600">{t('home_section2_li4_text')}</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section className="py-12">
                        <div className="max-w-4xl mx-auto">
                            <h2 className="text-3xl font-bold text-slate-800 mb-8 text-center">{t('home_section3_title')}</h2>
                            
                            <p className="text-center text-slate-600 mb-8 text-lg">
                                {t('home_section3_p1')}
                            </p>
                            
                            <div className="bg-white rounded-2xl p-8 shadow-lg">
                                <p className="text-slate-600 leading-relaxed mb-6">
                                    {t('home_section3_p2')}
                                </p>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div className="border-l-4 border-sky-500 pl-4">
                                        <h4 className="font-bold text-slate-800 mb-2">{t('home_section3_li1_title')}</h4>
                                        <p className="text-slate-600 text-sm">{t('home_section3_li1_text')}</p>
                                    </div>
                                    
                                    <div className="border-l-4 border-sky-500 pl-4">
                                        <h4 className="font-bold text-slate-800 mb-2">{t('home_section3_li2_title')}</h4>
                                        <p className="text-slate-600 text-sm">{t('home_section3_li2_text')}</p>
                                    </div>
                                    
                                    <div className="border-l-4 border-sky-500 pl-4">
                                        <h4 className="font-bold text-slate-800 mb-2">{t('home_section3_li3_title')}</h4>
                                        <p className="text-slate-600 text-sm">{t('home_section3_li3_text')}</p>
                                    </div>
                                    
                                    <div className="border-l-4 border-sky-500 pl-4">
                                        <h4 className="font-bold text-slate-800 mb-2">{t('home_section3_li4_title')}</h4>
                                        <p className="text-slate-600 text-sm">{t('home_section3_li4_text')}</p>
                                    </div>
                                </div>
                                
                                <div className="mt-8 p-6 bg-slate-100 rounded-xl">
                                    <div className="quote-mark">"</div>
                                    <p className="text-slate-700 text-lg font-medium italic leading-relaxed">
                                        {t('home_section3_quote')}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section className="py-12 bg-gradient-to-r from-sky-600 to-sky-700 rounded-3xl text-white">
                        <div className="max-w-4xl mx-auto px-4 text-center">
                            <h2 className="text-3xl font-bold mb-6">{t('home_section4_title')}</h2>
                            <p className="text-sky-100 mb-8 text-lg">
                                {t('home_section4_p1')}
                            </p>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                                    <h3 className="text-xl font-bold mb-3">{t('home_box1_title')}</h3>
                                    <p className="text-sky-100 mb-4">{t('home_box1_p')}</p>
                                    <button className="bg-white text-sky-700 px-6 py-2 rounded-lg font-bold hover:bg-sky-50 transition-colors">
                                        مشاركة
                                    </button>
                                </div>
                                
                                <div className="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                                    <h3 className="text-xl font-bold mb-3">{t('home_box2_title')}</h3>
                                    <p className="text-sky-100 mb-4">{t('home_box2_p')}</p>
                                    <button
                                        onClick={() => onNavigate('form')}
                                        className="bg-white text-sky-700 px-6 py-2 rounded-lg font-bold hover:bg-sky-50 transition-colors"
                                    >
                                        ابدأ الآن
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            );
        };

        // SubmissionForm Component
        const SubmissionForm = ({ onAdd }) => {
            const { t } = useLanguage();
            const [formData, setFormData] = React.useState({
                title: '',
                event: '',
                date: '',
                location: '',
                writtenText: '',
                author: '',
            });
            
            const [isSubmitting, setIsSubmitting] = React.useState(false);
            const [isSubmitted, setIsSubmitted] = React.useState(false);
            const [consent, setConsent] = React.useState(false);
            const [isAnonymous, setIsAnonymous] = React.useState(false);

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!consent) {
                    alert('يرجى الموافقة على المراجعة والنشر');
                    return;
                }

                setIsSubmitting(true);
                
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                onAdd({
                    ...formData,
                    author: isAnonymous ? 'Anonymous' : formData.author || 'Anonymous',
                });
                
                setIsSubmitting(false);
                setIsSubmitted(true);
                
                setTimeout(() => {
                    setIsSubmitted(false);
                    setFormData({
                        title: '',
                        event: '',
                        date: '',
                        location: '',
                        writtenText: '',
                        author: '',
                    });
                    setConsent(false);
                    setIsAnonymous(false);
                }, 3000);
            };

            const handleChange = (e) => {
                setFormData(prev => ({
                    ...prev,
                    [e.target.name]: e.target.value
                }));
            };

            if (isSubmitted) {
                return (
                    <div className="max-w-2xl mx-auto text-center py-16">
                        <div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg className="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                            </svg>
                        </div>
                        <h2 className="text-3xl font-bold text-slate-800 mb-4">تم الإرسال بنجاح</h2>
                        <p className="text-slate-600 text-lg">
                            {t('submissionSuccess')}
                        </p>
                    </div>
                );
            }

            return (
                <div className="max-w-2xl mx-auto">
                    <div className="text-center mb-8">
                        <h2 className="text-3xl font-bold text-slate-800 mb-4">{t('formTitle')}</h2>
                        <p className="text-slate-600">{t('formSubtitle')}</p>
                    </div>

                    <form onSubmit={handleSubmit} className="bg-white rounded-2xl p-8 shadow-lg space-y-6">
                        <div>
                            <label className="block text-slate-700 font-bold mb-2">
                                {t('titleLabel')}
                            </label>
                            <input
                                type="text"
                                name="title"
                                value={formData.title}
                                onChange={handleChange}
                                className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500"
                                placeholder="أدخل عنواناً لشهادتك"
                            />
                        </div>

                        <div>
                            <label className="block text-slate-700 font-bold mb-2">
                                {t('eventLabel')} <span className="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                name="event"
                                value={formData.event}
                                onChange={handleChange}
                                required
                                className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500"
                                placeholder="مثال: معركة أم درمان، حصار الفاشر..."
                            />
                        </div>

                        <div>
                            <label className="block text-slate-700 font-bold mb-2">
                                {t('dateLabel')} <span className="text-red-500">*</span>
                            </label>
                            <input
                                type="date"
                                name="date"
                                value={formData.date}
                                onChange={handleChange}
                                required
                                className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500"
                            />
                        </div>

                        <div>
                            <label className="block text-slate-700 font-bold mb-2">
                                {t('locationLabel')} <span className="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                name="location"
                                value={formData.location}
                                onChange={handleChange}
                                required
                                className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500"
                                placeholder="مثال: الخرطوم، أم درمان، الفاشر..."
                            />
                        </div>

                        <div>
                            <label className="block text-slate-700 font-bold mb-2">
                                {t('writtenLabel')} <span className="text-red-500">*</span>
                            </label>
                            <textarea
                                name="writtenText"
                                value={formData.writtenText}
                                onChange={handleChange}
                                required
                                rows={6}
                                className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500 resize-none"
                                placeholder="اكتب شهادتك بالتفصيل..."
                            />
                        </div>

                        {!isAnonymous && (
                            <div>
                                <label className="block text-slate-700 font-bold mb-2">
                                    اسمك (اختياري)
                                </label>
                                <input
                                    type="text"
                                    name="author"
                                    value={formData.author}
                                    onChange={handleChange}
                                    className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500"
                                    placeholder="أدخل اسمك أو لقبك"
                                />
                            </div>
                        )}

                        <div className="flex items-center">
                            <input
                                type="checkbox"
                                id="anonymous"
                                checked={isAnonymous}
                                onChange={(e) => setIsAnonymous(e.target.checked)}
                                className="w-5 h-5 text-sky-600 rounded focus:ring-sky-500"
                            />
                            <label htmlFor="anonymous" className="mr-3 text-slate-700">
                                {t('publishAnonymously')}
                            </label>
                        </div>

                        <div className="border-t pt-6">
                            <div className="flex items-start">
                                <input
                                    type="checkbox"
                                    id="consent"
                                    checked={consent}
                                    onChange={(e) => setConsent(e.target.checked)}
                                    className="w-5 h-5 text-sky-600 rounded focus:ring-sky-500 mt-1"
                                    required
                                />
                                <label htmlFor="consent" className="mr-3 text-slate-700 text-sm">
                                    {t('consentCheckbox')}
                                </label>
                            </div>
                        </div>

                        <button
                            type="submit"
                            disabled={isSubmitting}
                            className="w-full btn-primary py-4 rounded-xl text-white font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed"
                        >
                            {isSubmitting ? (
                                <span className="flex items-center justify-center gap-2">
                                    <svg className="animate-spin h-5 w-5" viewBox="0 0 24 24">
                                        <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4" fill="none" />
                                        <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" />
                                    </svg>
                                    جاري الإرسال...
                                </span>
                            ) : (
                                'إرسال الشهادة'
                            )}
                        </button>
                    </form>
                </div>
            );
        };

        // PublicArchive Component
        const PublicArchive = ({ testimonies }) => {
            const { t } = useLanguage();
            const [searchTerm, setSearchTerm] = React.useState('');
            const [locationFilter, setLocationFilter] = React.useState('');

            const locations = React.useMemo(() => {
                const uniqueLocations = new Set(testimonies.map(t => t.location));
                return Array.from(uniqueLocations).sort();
            }, [testimonies]);

            const filteredTestimonies = React.useMemo(() => {
                return testimonies.filter(testimony => {
                    const matchesSearch = 
                        testimony.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        testimony.event.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        testimony.writtenText.toLowerCase().includes(searchTerm.toLowerCase());
                    
                    const matchesLocation = !locationFilter || testimony.location === locationFilter;
                    
                    return matchesSearch && matchesLocation;
                });
            }, [testimonies, searchTerm, locationFilter]);

            return (
                <div>
                    <div className="text-center mb-8">
                        <h2 className="text-3xl font-bold text-slate-800 mb-4">{t('archiveTitle')}</h2>
                        <p className="text-slate-600">{t('archiveSubtitle')}</p>
                    </div>

                    <div className="bg-white rounded-xl p-6 shadow-lg mb-8">
                        <div className="flex flex-col md:flex-row gap-4">
                            <div className="flex-1">
                                <input
                                    type="text"
                                    placeholder={t('searchPlaceholder')}
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    className="w-full px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500"
                                />
                            </div>

                            <select
                                value={locationFilter}
                                onChange={(e) => setLocationFilter(e.target.value)}
                                className="px-4 py-3 rounded-lg border border-slate-300 focus:outline-none focus:ring-2 focus:ring-sky-500"
                            >
                                <option value="">{t('allLocations')}</option>
                                {locations.map(location => (
                                    <option key={location} value={location}>{location}</option>
                                ))}
                            </select>
                        </div>
                    </div>

                    <p className="text-slate-600 mb-4">
                        {filteredTestimonies.length} قصة{filteredTestimonies.length !== 1 ? 'ص' : ''} موجودة
                    </p>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {filteredTestimonies.map(testimony => (
                            <div key={testimony.id} className="bg-white rounded-xl p-6 shadow-lg card-hover">
                                {testimony.imageUrl && (
                                    <img
                                        src={testimony.imageUrl}
                                        alt={testimony.title}
                                        className="w-full h-48 object-cover rounded-lg mb-4"
                                    />
                                )}
                                <h3 className="text-xl font-bold text-slate-800 mb-2">{testimony.title || 'بدون عنوان'}</h3>
                                <p className="text-slate-600 mb-4 line-clamp-3">{testimony.writtenText}</p>
                                <div className="space-y-2 text-sm">
                                    <div className="flex justify-between">
                                        <span className="text-slate-500">{t('event')}:</span>
                                        <span className="text-slate-700 font-medium">{testimony.event}</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span className="text-slate-500">{t('location')}:</span>
                                        <span className="text-slate-700 font-medium">{testimony.location}</span>
                                    </div>
                                    <div className="flex justify-between">
                                        <span className="text-slate-500">{t('date')}:</span>
                                        <span className="text-slate-700 font-medium">
                                            {new Date(testimony.date).toLocaleDateString('ar-SA')}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>

                    {filteredTestimonies.length === 0 && (
                        <div className="text-center py-16">
                            <div className="w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6">
                                <svg className="w-10 h-10 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <h3 className="text-xl font-bold text-slate-800 mb-2">{t('noStoriesFound')}</h3>
                            <p className="text-slate-600">حاول تغيير معايير البحث أو تصفح كل القصص.</p>
                        </div>
                    )}
                </div>
            );
        };

        // AdminDashboard Component
        const AdminDashboard = ({ testimonies, onUpdateStatus, onDelete }) => {
            const { t } = useLanguage();
            const [statusFilter, setStatusFilter] = React.useState('all');
            const [selectedTestimony, setSelectedTestimony] = React.useState(null);

            const filteredTestimonies = testimonies.filter(testimony => {
                if (statusFilter === 'all') return true;
                return testimony.status === statusFilter;
            });

            const stats = {
                total: testimonies.length,
                pending: testimonies.filter(t => t.status === 'pending').length,
                approved: testimonies.filter(t => t.status === 'approved').length,
                rejected: testimonies.filter(t => t.status === 'rejected').length,
            };

            const handleDelete = (id) => {
                if (confirm('هل أنت متأكد من الحذف؟')) {
                    onDelete(id);
                }
            };

            const getStatusClass = (status) => {
                switch (status) {
                    case 'approved': return 'status-approved';
                    case 'pending': return 'status-pending';
                    case 'rejected': return 'status-rejected';
                    default: return '';
                }
            };

            const getStatusText = (status) => {
                switch (status) {
                    case 'approved': return t('status_approved');
                    case 'pending': return t('status_pending');
                    case 'rejected': return t('status_rejected');
                    default: return '';
                }
            };

            return (
                <div>
                    <div className="mb-8">
                        <h2 className="text-3xl font-bold text-slate-800 mb-2">{t('admin')}</h2>
                        <p className="text-slate-600">إدارة شهادات المستخدمين</p>
                    </div>

                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                        <div className="bg-white rounded-xl p-6 shadow-lg text-center">
                            <p className="text-3xl font-bold text-slate-800">{stats.total}</p>
                            <p className="text-slate-600">{t('admin_stats_total')}</p>
                        </div>
                        <div className="bg-yellow-50 rounded-xl p-6 shadow-lg text-center">
                            <p className="text-3xl font-bold text-yellow-700">{stats.pending}</p>
                            <p className="text-yellow-600">{t('admin_stats_pending')}</p>
                        </div>
                        <div className="bg-green-50 rounded-xl p-6 shadow-lg text-center">
                            <p className="text-3xl font-bold text-green-700">{stats.approved}</p>
                            <p className="text-green-600">{t('admin_stats_approved')}</p>
                        </div>
                        <div className="bg-red-50 rounded-xl p-6 shadow-lg text-center">
                            <p className="text-3xl font-bold text-red-700">{stats.rejected}</p>
                            <p className="text-red-600">{t('status_rejected')}</p>
                        </div>
                    </div>

                    <div className="bg-white rounded-xl p-4 shadow-lg mb-6">
                        <div className="flex gap-2 flex-wrap">
                            {['all', 'pending', 'approved', 'rejected'].map(filter => (
                                <button
                                    key={filter}
                                    onClick={() => setStatusFilter(filter)}
                                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                                        statusFilter === filter
                                            ? 'bg-sky-100 text-sky-700'
                                            : 'bg-slate-100 text-slate-600 hover:bg-slate-200'
                                    }`}
                                >
                                    {filter === 'all' && t('admin_filter_all')}
                                    {filter === 'pending' && t('status_pending')}
                                    {filter === 'approved' && t('status_approved')}
                                    {filter === 'rejected' && t('status_rejected')}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="bg-white rounded-xl shadow-lg overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="w-full">
                                <thead className="bg-slate-50">
                                    <tr>
                                        <th className="px-6 py-4 text-right text-slate-700 font-bold">{t('table_header_date')}</th>
                                        <th className="px-6 py-4 text-right text-slate-700 font-bold">{t('table_header_title')}</th>
                                        <th className="px-6 py-4 text-right text-slate-700 font-bold">{t('table_header_location')}</th>
                                        <th className="px-6 py-4 text-right text-slate-700 font-bold">{t('table_header_event')}</th>
                                        <th className="px-6 py-4 text-right text-slate-700 font-bold">{t('table_header_status')}</th>
                                        <th className="px-6 py-4 text-right text-slate-700 font-bold">{t('table_header_actions')}</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-slate-200">
                                    {filteredTestimonies.map(testimony => (
                                        <tr key={testimony.id} className="hover:bg-slate-50">
                                            <td className="px-6 py-4 text-slate-600">
                                                {new Date(testimony.date).toLocaleDateString('ar-SA')}
                                            </td>
                                            <td className="px-6 py-4 text-slate-800 font-medium max-w-xs truncate">
                                                {testimony.title || 'بدون عنوان'}
                                            </td>
                                            <td className="px-6 py-4 text-slate-600">{testimony.location}</td>
                                            <td className="px-6 py-4 text-slate-600 max-w-xs truncate">{testimony.event}</td>
                                            <td className="px-6 py-4">
                                                <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusClass(testimony.status)}`}>
                                                    {getStatusText(testimony.status)}
                                                </span>
                                            </td>
                                            <td className="px-6 py-4">
                                                <div className="flex gap-2">
                                                    <button
                                                        onClick={() => setSelectedTestimony(testimony)}
                                                        className="text-sky-600 hover:text-sky-700 font-medium text-sm"
                                                    >
                                                        {t('action_view')}
                                                    </button>
                                                    {testimony.status === 'pending' && (
                                                        <>
                                                            <button
                                                                onClick={() => onUpdateStatus(testimony.id, 'approved')}
                                                                className="text-green-600 hover:text-green-700 font-medium text-sm"
                                                            >
                                                                {t('action_approve')}
                                                            </button>
                                                            <button
                                                                onClick={() => onUpdateStatus(testimony.id, 'rejected')}
                                                                className="text-red-600 hover:text-red-700 font-medium text-sm"
                                                            >
                                                                {t('action_reject')}
                                                            </button>
                                                        </>
                                                    )}
                                                    <button
                                                        onClick={() => handleDelete(testimony.id)}
                                                        className="text-red-600 hover:text-red-700 font-medium text-sm"
                                                    >
                                                        {t('action_delete')}
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {filteredTestimonies.length === 0 && (
                        <div className="text-center py-16">
                            <p className="text-slate-600">لا توجد شهادات بهذه الحالة.</p>
                        </div>
                    )}

                    {selectedTestimony && (
                        <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
                            <div className="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                                <div className="p-6">
                                    <div className="flex justify-between items-start mb-6">
                                        <h3 className="text-2xl font-bold text-slate-800">
                                            {selectedTestimony.title || 'بدون عنوان'}
                                        </h3>
                                        <button
                                            onClick={() => setSelectedTestimony(null)}
                                            className="text-slate-400 hover:text-slate-600"
                                        >
                                            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                            </svg>
                                        </button>
                                    </div>

                                    <div className="space-y-4">
                                        <div>
                                            <span className="text-slate-500 font-medium">{t('event')}:</span>
                                            <span className="text-slate-800 mr-2">{selectedTestimony.event}</span>
                                        </div>
                                        <div>
                                            <span className="text-slate-500 font-medium">{t('location')}:</span>
                                            <span className="text-slate-800 mr-2">{selectedTestimony.location}</span>
                                        </div>
                                        <div>
                                            <span className="text-slate-500 font-medium">{t('date')}:</span>
                                            <span className="text-slate-800 mr-2">
                                                {new Date(selectedTestimony.date).toLocaleDateString('ar-SA')}
                                            </span>
                                        </div>
                                        <div>
                                            <span className="text-slate-500 font-medium">{t('table_header_author')}:</span>
                                            <span className="text-slate-800 mr-2">{selectedTestimony.author}</span>
                                        </div>
                                        <div>
                                            <span className="text-slate-500 font-medium">{t('table_header_status')}:</span>
                                            <span className={`mr-2 px-3 py-1 rounded-full text-xs font-medium ${getStatusClass(selectedTestimony.status)}`}>
                                                {getStatusText(selectedTestimony.status)}
                                            </span>
                                        </div>

                                        <div className="border-t pt-4">
                                            <p className="text-slate-700 leading-relaxed whitespace-pre-wrap">
                                                {selectedTestimony.writtenText}
                                            </p>
                                        </div>
                                    </div>

                                    <div className="flex gap-2 mt-6 pt-6 border-t">
                                        {selectedTestimony.status === 'pending' && (
                                            <>
                                                <button
                                                    onClick={() => {
                                                        onUpdateStatus(selectedTestimony.id, 'approved');
                                                        setSelectedTestimony(null);
                                                    }}
                                                    className="flex-1 bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition-colors"
                                                >
                                                    {t('action_approve')}
                                                </button>
                                                <button
                                                    onClick={() => {
                                                        onUpdateStatus(selectedTestimony.id, 'rejected');
                                                        setSelectedTestimony(null);
                                                    }}
                                                    className="flex-1 bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 transition-colors"
                                                >
                                                    {t('action_reject')}
                                                </button>
                                            </>
                                        )}
                                        <button
                                            onClick={() => setSelectedTestimony(null)}
                                            className="flex-1 bg-slate-200 text-slate-700 py-3 rounded-lg font-bold hover:bg-slate-300 transition-colors"
                                        >
                                            {t('modal_close')}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Main App Component
        const App = () => {
            const [currentView, setCurrentView] = React.useState('home');
            const [testimonies, setTestimonies] = React.useState(MOCK_TESTIMONIES);

            // Hash routing
            React.useEffect(() => {
                const handleHashChange = () => {
                    const hash = window.location.hash.replace('#', '');
                    if (['home', 'form', 'archive', 'admin'].includes(hash)) {
                        setCurrentView(hash);
                    } else if (!hash) {
                        setCurrentView('home');
                    }
                };

                window.addEventListener('hashchange', handleHashChange);
                if (window.location.hash) handleHashChange();
                else window.location.hash = 'home';

                return () => window.removeEventListener('hashchange', handleHashChange);
            }, []);

            const navigateTo = React.useCallback((view) => {
                setCurrentView(view);
                window.location.hash = view;
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, []);

            const addTestimony = (newTestimony) => {
                const testimony = {
                    ...newTestimony,
                    id: Date.now(),
                    status: 'pending'
                };
                setTestimonies(prev => [testimony, ...prev]);
            };

            const updateTestimonyStatus = (id, status) => {
                setTestimonies(prev => prev.map(t => t.id === id ? { ...t, status } : t));
            };

            const deleteTestimony = (id) => {
                setTestimonies(prev => prev.filter(t => t.id !== id));
            };

            return (
                <LanguageProvider>
                    <div className="bg-slate-50 min-h-screen text-slate-800 flex flex-col pb-20 md:pb-0">
                        <Header currentView={currentView} navigateTo={navigateTo} />
                        
                        <main className="flex-grow container mx-auto px-4 py-6 md:py-12">
                            <div className="max-w-5xl mx-auto">
                                {currentView === 'home' && <Home onNavigate={navigateTo} />}
                                {currentView === 'form' && <SubmissionForm onAdd={addTestimony} />}
                                {currentView === 'archive' && (
                                    <PublicArchive testimonies={testimonies.filter(t => t.status === 'approved')} />
                                )}
                                {currentView === 'admin' && (
                                    <AdminDashboard 
                                        testimonies={testimonies} 
                                        onUpdateStatus={updateTestimonyStatus} 
                                        onDelete={deleteTestimony} 
                                    />
                                )}
                            </div>
                        </main>

                        <nav className="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-lg border-t border-slate-200 flex justify-around items-center py-3 px-6 md:hidden z-50 mobile-nav">
                            <button onClick={() => navigateTo('home')} className={`flex flex-col items-center gap-1 ${currentView === 'home' ? 'text-sky-600' : 'text-slate-400'}`}>
                                <HomeIcon className="w-6 h-6" />
                                <span className="text-[10px] font-bold uppercase tracking-tighter">{t('home')}</span>
                            </button>
                            <button onClick={() => navigateTo('form')} className={`flex flex-col items-center gap-1 ${currentView === 'form' ? 'text-sky-600' : 'text-slate-400'}`}>
                                <PlusCircleIcon className="w-6 h-6" />
                                <span className="text-[10px] font-bold uppercase tracking-tighter">وثق</span>
                            </button>
                            <button onClick={() => navigateTo('archive')} className={`flex flex-col items-center gap-1 ${currentView === 'archive' ? 'text-sky-600' : 'text-slate-400'}`}>
                                <BookOpenIcon className="w-6 h-6" />
                                <span className="text-[10px] font-bold uppercase tracking-tighter">{t('viewArchive')}</span>
                            </button>
                        </nav>

                        <Footer navigateTo={navigateTo} />
                    </div>
                </LanguageProvider>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
